@import "tailwindcss";
@import "tw-animate-css";
@source "./src";
@plugin "@iconify/tailwind4" {
  prefixes: ph;
}

/*
 * =============================================================================
 * DESIGN TOKEN SYSTEM
 * =============================================================================
 * 
 * Architecture:
 *   SEMANTIC LAYER (bg-background, bg-surface, text-foreground)
 *        |
 *   PRIMITIVE LAYER (gray-1 through gray-13, Radix-style)
 *        |
 *   BASE SCALE (zinc-50 through zinc-950, swappable)
 *
 * See docs/design-tokens.md for full documentation.
 * =============================================================================
 */

@layer base {
  :root {
    /*
     * =========================================================================
     * BASE SCALE - Tailwind v4 Zinc (OKLCH)
     * =========================================================================
     * Swappable foundation. Change these to use neutral/slate instead.
     */
    --base-50: oklch(0.985 0 0);
    --base-75: oklch(0.976 0.0005 286.375);
    --base-100: oklch(0.967 0.001 286.375);
    --base-200: oklch(0.92 0.004 286.32);
    --base-300: oklch(0.871 0.006 286.286);
    --base-400: oklch(0.705 0.015 286.067);
    --base-500: oklch(0.552 0.016 285.938);
    --base-600: oklch(0.442 0.017 285.786);
    --base-700: oklch(0.37 0.013 285.805);
    --base-800: oklch(0.274 0.006 286.033);
    --base-900: oklch(0.21 0.006 285.885);
    --base-925: oklch(0.176 0.0055 285.854);
    --base-950: oklch(0.141 0.005 285.823);

    /*
     * =========================================================================
     * PRIMITIVE LAYER - Gray Scale (Light Mode)
     * =========================================================================
     * Radix-style 13-step scale with semantic meaning per step.
     * See docs/design-tokens.md for step definitions.
     */

    /* Steps 1-3: Backgrounds */
    --gray-1: var(--base-50); /* App background */
    --gray-2: var(--base-75); /* Very subtle background (hover) */
    --gray-3: var(--base-100); /* Subtle background */

    /* Steps 4-6: Interactive component backgrounds */
    --gray-4: var(--base-200); /* UI element bg (normal) */
    --gray-5: var(--base-300); /* UI element bg (hover) */
    --gray-6: var(--base-400); /* UI element bg (active/selected) */

    /* Steps 7-9: Borders */
    --gray-7: var(--base-200); /* Subtle borders, separators */
    --gray-8: var(--base-300); /* UI element border, focus rings */
    --gray-9: var(--base-400); /* Strong borders, hovered borders */

    /* Steps 10-11: Solid colors */
    --gray-10: var(--base-500); /* Solid backgrounds, disabled text */
    --gray-11: var(--base-600); /* Solid bg hover, subtle text */

    /* Steps 12-13: Text */
    --gray-12: var(--base-600); /* Low-contrast text */
    --gray-13: var(--base-950); /* High-contrast text */

    /*
     * =========================================================================
     * SEMANTIC LAYER - Backgrounds (Light Mode)
     * =========================================================================
     */
    --background: var(--gray-1);
    --surface: var(--gray-3);
    --surface-hover: var(--gray-2);
    --surface-raised: var(--gray-4);
    --surface-overlay: var(--gray-3);
    --muted: var(--gray-4);
    --muted-hover: var(--gray-5);
    --muted-active: var(--gray-6);

    /*
     * =========================================================================
     * SEMANTIC LAYER - Borders (Light Mode)
     * =========================================================================
     */
    --border: var(--gray-7);
    --border-input: var(--gray-8);
    --border-hover: var(--gray-9);
    --ring: var(--gray-8);

    /*
     * =========================================================================
     * SEMANTIC LAYER - Text (Light Mode)
     * =========================================================================
     */
    --foreground: var(--gray-13);
    --foreground-muted: var(--gray-12);
    --foreground-subtle: var(--gray-11);
    --foreground-faint: var(--gray-10);
    --foreground-disabled: var(--gray-10);

    /*
     * =========================================================================
     * STATUS COLORS (Light Mode)
     * =========================================================================
     */

    /* Destructive (Red) */
    --destructive: oklch(0.577 0.245 27.325);
    --destructive-hover: oklch(0.505 0.213 27.518);
    --destructive-active: oklch(0.444 0.177 26.899);
    --destructive-foreground: oklch(0.985 0 0);
    --destructive-text: oklch(0.637 0.237 25.331);

    /* Success (Emerald) */
    --success: oklch(0.696 0.17 162.48);
    --success-hover: oklch(0.596 0.145 163.225);
    --success-active: oklch(0.508 0.118 165.612);
    --success-foreground: oklch(0.985 0 0);
    --success-text: oklch(0.765 0.177 163.223);

    /* Warning (Amber) */
    --warning: oklch(0.769 0.188 70.08);
    --warning-hover: oklch(0.666 0.179 58.318);
    --warning-active: oklch(0.555 0.163 48.998);
    --warning-foreground: oklch(0.141 0.005 285.823);
    --warning-text: oklch(0.828 0.189 84.429);

    /* Info (Blue) */
    --info: oklch(0.623 0.214 259.815);
    --info-hover: oklch(0.546 0.245 262.881);
    --info-active: oklch(0.488 0.243 264.376);
    --info-foreground: oklch(0.985 0 0);
    --info-text: oklch(0.707 0.165 254.624);

    /*
     * =========================================================================
     * PRIMARY (Brand/Accent)
     * =========================================================================
     * Used for interactive accents: links, active checkboxes, switches,
     * loading bars, badges, and brand highlights.
     */
    --primary: var(--gray-13);
    --primary-foreground: var(--gray-1);

    /*
     * =========================================================================
     * OTHER TOKENS
     * =========================================================================
     */
    --radius: 0.375rem;

    /**
     * Page container horizontal padding.
     * Used by:
     * - Root layout container (px-page)
     * - Header container (px-page)
     * - VirtualTable full-bleed wrapper (-mx-page)
     * - VirtualTableWindow edge cell padding (via getPagePadding())
     *
     * Responsive: 8px on mobile, 16px on sm+ breakpoint.
     */
    --page-padding: 0.5rem;
  }

  @media (min-width: 640px) {
    :root {
      --page-padding: 1rem;
    }
  }

  /*
   * ===========================================================================
   * DARK MODE OVERRIDES
   * ===========================================================================
   * Inverts the primitive layer mappings for dark theme.
   */
  .dark {
    /* Primitive Layer - Gray Scale (Dark Mode) */
    --gray-1: var(--base-950); /* App background */
    --gray-2: var(--base-925); /* Very subtle background (hover) */
    --gray-3: var(--base-900); /* Subtle background */
    --gray-4: var(--base-800); /* UI element bg (normal) */
    --gray-5: var(--base-700); /* UI element bg (hover) */
    --gray-6: var(--base-600); /* UI element bg (active/selected) */
    --gray-7: var(--base-800); /* Subtle borders, separators */
    --gray-8: var(--base-700); /* UI element border, focus rings */
    --gray-9: var(--base-600); /* Strong borders, hovered borders */
    --gray-10: var(--base-500); /* Solid backgrounds, disabled text */
    --gray-11: var(--base-400); /* Solid bg hover, subtle text */
    --gray-12: var(--base-400); /* Low-contrast text */
    --gray-13: var(--base-50); /* High-contrast text */

    /* Semantic tokens automatically update via gray-* references */
  }
}

/*
 * =============================================================================
 * TAILWIND THEME REGISTRATION
 * =============================================================================
 * Registers design tokens as Tailwind utilities (bg-*, text-*, border-*, etc.)
 */
@theme {
  --font-sans: "Inter", system-ui, sans-serif;

  /* Radius */
  --radius-xl: calc(var(--radius) + 4px);
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  /* Primitive Layer - Gray Scale */
  --color-gray-1: var(--gray-1);
  --color-gray-2: var(--gray-2);
  --color-gray-3: var(--gray-3);
  --color-gray-4: var(--gray-4);
  --color-gray-5: var(--gray-5);
  --color-gray-6: var(--gray-6);
  --color-gray-7: var(--gray-7);
  --color-gray-8: var(--gray-8);
  --color-gray-9: var(--gray-9);
  --color-gray-10: var(--gray-10);
  --color-gray-11: var(--gray-11);
  --color-gray-12: var(--gray-12);
  --color-gray-13: var(--gray-13);

  /* Semantic - Backgrounds */
  --color-background: var(--background);
  --color-surface: var(--surface);
  --color-surface-hover: var(--surface-hover);
  --color-surface-raised: var(--surface-raised);
  --color-surface-overlay: var(--surface-overlay);
  --color-muted: var(--muted);
  --color-muted-hover: var(--muted-hover);
  --color-muted-active: var(--muted-active);

  /* Semantic - Borders */
  --color-border: var(--border);
  --color-border-input: var(--border-input);
  --color-border-hover: var(--border-hover);
  --color-ring: var(--ring);

  /* Semantic - Text */
  --color-foreground: var(--foreground);
  --color-foreground-muted: var(--foreground-muted);
  --color-foreground-subtle: var(--foreground-subtle);
  --color-foreground-faint: var(--foreground-faint);
  --color-foreground-disabled: var(--foreground-disabled);

  /* Primary (Brand/Accent) */
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  /* Status - Destructive */
  --color-destructive: var(--destructive);
  --color-destructive-hover: var(--destructive-hover);
  --color-destructive-active: var(--destructive-active);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-destructive-text: var(--destructive-text);

  /* Status - Success */
  --color-success: var(--success);
  --color-success-hover: var(--success-hover);
  --color-success-active: var(--success-active);
  --color-success-foreground: var(--success-foreground);
  --color-success-text: var(--success-text);

  /* Status - Warning */
  --color-warning: var(--warning);
  --color-warning-hover: var(--warning-hover);
  --color-warning-active: var(--warning-active);
  --color-warning-foreground: var(--warning-foreground);
  --color-warning-text: var(--warning-text);

  /* Status - Info */
  --color-info: var(--info);
  --color-info-hover: var(--info-hover);
  --color-info-active: var(--info-active);
  --color-info-foreground: var(--info-foreground);
  --color-info-text: var(--info-text);

  /* Animations */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-shimmer: shimmer 1.5s infinite linear;

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--accordion-panel-height);
    }
  }

  @keyframes accordion-up {
    from {
      height: var(--accordion-panel-height);
    }
    to {
      height: 0;
    }
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@variant dark (&:is(.dark *));

.hideScrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hideScrollbar::-webkit-scrollbar {
  display: none;
}
