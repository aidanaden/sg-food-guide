---
interface Props {
  variant?: 'default' | 'interactive';
  accent?: 'rating-0' | 'rating-1' | 'rating-2' | 'rating-3' | 'none';
  href?: string;
  class?: string;
  [key: string]: any;
}

const { variant = 'default', accent = 'none', href, class: className, ...rest } = Astro.props;
const Tag = href ? 'a' : 'div';

const variants: Record<string, string> = {
  default: 'border-warm-800/60 bg-surface-card',
  interactive: 'border-warm-800/60 bg-surface-card hover:bg-surface-raised hover:border-warm-600/40 transition-all duration-200',
};

const accentColors: Record<string, string> = {
  'none': '',
  'rating-0': 'border-warm-700/70',
  'rating-1': 'border-flame-400/35',
  'rating-2': 'border-gold-400/35',
  'rating-3': 'border-jade-400/35',
};

const accentBg: Record<string, string> = {
  'none': '',
  'rating-0': '',
  'rating-1': 'bg-flame-400/[0.02]',
  'rating-2': 'bg-gold-400/[0.02]',
  'rating-3': 'bg-jade-400/[0.03]',
};
---

<Tag
  href={href}
  class:list={[
    'rounded-xl border overflow-hidden',
    variant === 'interactive' && 'group',
    variants[variant],
    accentColors[accent],
    accentBg[accent],
    className,
  ]}
  {...rest}
>
  <slot name="banner" />
  <div class="flex flex-col flex-1 p-4">
    <slot name="header" />
    <slot />
    <slot name="footer" />
  </div>
</Tag>
