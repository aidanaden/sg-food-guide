---
import Button from "../button.astro";
import Spinner from "../spinner.astro";
import { cn } from "../../utils";

interface Props {
  loading?: boolean;
  disabled?: boolean;
  class?: string;
  variant?:
    | "default"
    | "outline"
    | "secondary"
    | "ghost"
    | "destructive-solid"
    | "destructive-ghost"
    | "link";
  size?: "default" | "xs" | "sm" | "lg" | "icon" | "icon-xs" | "icon-sm" | "icon-lg";
  href?: string;
  [key: string]: any;
}

const {
  loading = false,
  disabled = false,
  class: className,
  variant,
  size,
  href,
  ...attrs
} = Astro.props as Props;

const isDisabled = disabled || loading;
---

<Button
  href={href}
  variant={variant}
  size={size}
  disabled={isDisabled}
  class={cn("min-w-24", className)}
  {...attrs}
>
  {loading ? <Spinner size="sm" class="size-4" /> : <slot />}
</Button>
