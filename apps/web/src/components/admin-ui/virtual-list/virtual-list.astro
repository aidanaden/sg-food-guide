---
import { cn } from "../utils";

interface Props {
  items?: any[];
  class?: string;
  itemClass?: string;
  emptyText?: string;
  [key: string]: any;
}

const {
  items = [],
  class: className,
  itemClass,
  emptyText = "No items",
  ...attrs
} = Astro.props as Props;
---

<div data-slot="virtual-list" class={cn("overflow-auto", className)} {...attrs}>
  {items.length === 0 ? (
    <div class="text-foreground-muted px-3 py-4 text-sm">{emptyText}</div>
  ) : (
    <ul class="divide-border divide-y">
      {items.map((item) => (
        <li class={cn("px-3 py-2", itemClass)}>
          <pre class="overflow-auto text-xs">{JSON.stringify(item, null, 2)}</pre>
        </li>
      ))}
    </ul>
  )}
</div>
